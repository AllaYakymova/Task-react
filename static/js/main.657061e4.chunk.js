(this.webpackJsonpusers=this.webpackJsonpusers||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(0),s=c.n(r),a=c(17),i=c.n(a),o=(c(43),c(44),c(3)),u=c(6),j=c(7),d=c(13),b="REQUEST_USERS_SUCCESS",l="REQUEST_USERS_ERROR",O="REQUEST_USERS_IN_PROCESS",h="SET_CHECKED_USER",f="DELETE_CHECKED_USER",p=function(e,t){return function(c){if(e.includes(t)){c(function(e){return{type:f,payload:Object(j.a)(e)}}(e.filter((function(e){return e!==t}))))}else{c(function(t){return{type:h,payload:[].concat(Object(j.a)(e),[t])}}(t))}}},m=function(e){var t=e.id,c=Object(u.c)((function(e){return e.actionsWithCheckedUsers.checkedUsersId})),s=Object(r.useState)(c.includes(t)),a=Object(d.a)(s,2),i=a[0],o=a[1],j=Object(u.b)();return Object(n.jsx)("input",{name:"checked",type:"checkbox",id:t,checked:i,onChange:function(e){o(e.target.checked),j(p(c,t))}})},x=function(e){var t=e.list.map((function(e){return Object(n.jsxs)("li",{className:"letter-list",children:[Object(n.jsxs)("strong",{children:[e.lastName," ",e.firstName]}),Object(n.jsx)(m,{id:e.id,lastName:e.lastName,firstName:e.firstName})]},e.id)}));return Object(n.jsx)(n.Fragment,{children:t})},v=function(e){var t=e.usersList,c=Object(r.useState)([]),s=Object(d.a)(c,2),a=s[0],i=s[1];Object(r.useEffect)((function(){var e=u(t,o(65,90));i(e)}),[t]);var o=function(e,t){for(var c=[],n=e;n<=t;n++){var r=String.fromCharCode(n).toUpperCase();c=[].concat(Object(j.a)(c),[r])}return c},u=function(e,t){var c=[];return t.forEach((function(t){var n=e.filter((function(e){return e.lastName.toUpperCase().startsWith(t)}));c=[].concat(Object(j.a)(c),[n])})),c},b=a.map((function(e,t){var c=String.fromCharCode(t+65),r=0===e.length?Object(n.jsx)("span",{children:"-----"}):Object(n.jsx)(x,{list:e});return Object(n.jsxs)("div",{className:"letter__employees",children:[Object(n.jsx)("h4",{className:"alpha-title",children:c}),Object(n.jsx)("ul",{children:r})]},c)}));return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:" Employees"}),Object(n.jsx)("div",{className:"employees__wrap",children:b})]})},E=c(36),g=c.n(E),y=function(){return function(e){e({type:O}),g.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(t){var c;e((c=t.data,{type:b,payload:Object(j.a)(c)}))})).catch((function(t){var c;e((c=t.message,{type:l,payload:c}))}))}},S=function(){return!Object(u.c)((function(e){return e.getUsersList.isLoaded}))&&Object(n.jsxs)("div",{className:"spinner",children:[Object(n.jsx)("div",{className:"blob top"}),Object(n.jsx)("div",{className:"blob bottom"}),Object(n.jsx)("div",{className:"blob left"}),Object(n.jsx)("div",{className:"blob move-blob"})]})},N=function(e){var t=e.usersList,c=Object(u.c)((function(e){return e.actionsWithCheckedUsers.checkedUsersId})),s=Object(r.useState)([]),a=Object(d.a)(s,2),i=a[0],o=a[1],b=Object(r.useState)({}),l=Object(d.a)(b,2),O=l[0],h=l[1],f=["January","February","March","April","May","June","July","August","September","October","November","December"],p=function(e,t){return e-t};Object(r.useEffect)((function(){var e=[],n=[],r=new Map;c.forEach((function(c){var r=t.find((function(e){return e.id===c}));e=[].concat(Object(j.a)(e),[r]),n=[].concat(Object(j.a)(n),[r.dob])}));var s=n.map((function(e){return new Date(e).getMonth()})),a=s.filter((function(e,t){return s.indexOf(e)===t})).sort(p);a.forEach((function(t){var c=[];e.forEach((function(e){new Date(e.dob).getMonth()===t&&(c=[].concat(Object(j.a)(c),[e]),r.set(t,c))}))})),o(a),h(r),localStorage.setItem("checkedUsersId",JSON.stringify(c))}),[c,t]);var m=i.map((function(e){var t=O.get(e),c=[];return t.map((function(e){var t=function(e){var t=e.getDate(),c=e.getMonth(),n=e.getFullYear();return"".concat(t," ").concat(f[c],", ").concat(n," year")}(new Date(e.dob));return c=[].concat(Object(j.a)(c),[Object(n.jsxs)("li",{style:{listStyleType:"circle"},children:[Object(n.jsxs)("strong",{children:[e.lastName," ",e.firstName]})," ","- ",t]},e.id)])})),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:f[e]}),Object(n.jsx)("ul",{children:c})]},e)})),x=0===c.length?Object(n.jsx)("h3",{children:"No selected employees"}):Object(n.jsx)("div",{className:"birthday-wrap",children:m});return Object(n.jsxs)("div",{className:"dob__wrap",children:[Object(n.jsx)("h2",{children:" Employees Birthdays"}),x]})},_=function(){var e=Object(u.c)((function(e){return e.getUsersList.usersList})),t=Object(u.c)((function(e){return e.getUsersList.isLoaded})),c=Object(u.b)();Object(r.useEffect)((function(){setTimeout((function(){return c(y())}),2e3)}),[c]);var s=t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(v,{usersList:e}),Object(n.jsx)(N,{usersList:e})]}):Object(n.jsx)(S,{});return Object(n.jsx)(n.Fragment,{children:s})},U=function(){return Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.a,{exact:!0,from:"/",to:"/employees"}),Object(n.jsx)(o.b,{exact:!0,path:"/employees",component:_})]})},L=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(U,{})})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,68)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))},k=c(22),w=c(12),R=c(11),D={usersList:[],isLoaded:!1,error:""},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(R.a)(Object(R.a)({},e),{},{isLoaded:!0,usersList:t.payload});case l:return Object(R.a)(Object(R.a)({},e),{},{isLoaded:!1,error:t.payload});case O:return Object(R.a)(Object(R.a)({},e),{},{isLoaded:!1});default:return e}},T={checkedUsersId:JSON.parse(localStorage.getItem("checkedUsersId"))||[]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case f:return Object(R.a)(Object(R.a)({},e),{},{checkedUsersId:t.payload});default:return e}},J=Object(w.c)({getUsersList:I,actionsWithCheckedUsers:F}),M=c(37),W=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e},X=Object(w.e)(J,Object(w.d)(Object(w.a)(M.a),W));i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(u.a,{store:X,children:Object(n.jsx)(k.a,{children:Object(n.jsx)(L,{})})})}),document.getElementById("root")),C()}},[[67,1,2]]]);
//# sourceMappingURL=main.657061e4.chunk.js.map